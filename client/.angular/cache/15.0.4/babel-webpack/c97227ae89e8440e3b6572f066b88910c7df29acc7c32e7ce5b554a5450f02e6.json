{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet DashboardComponent = class DashboardComponent {\n  constructor(ds, fb, router, http) {\n    this.ds = ds;\n    this.fb = fb;\n    this.router = router;\n    this.http = http;\n    this.depositForm = this.fb.group({\n      acno: ['', [Validators.required, Validators.pattern('[0-9]*')]],\n      pswd: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9]*')]],\n      dAmt: ['', [Validators.required, Validators.pattern('[0-9]*')]]\n    });\n    this.withdrawForm = this.fb.group({\n      acno1: ['', [Validators.required, Validators.pattern('[0-9]*')]],\n      pswd1: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9]*')]],\n      wAmt: ['', [Validators.required, Validators.pattern('[0-9]*')]]\n    });\n    this.sDate = Date();\n  }\n  ngOnInit() {\n    this.user = JSON.parse(localStorage.getItem('currentUser') || \"\");\n  }\n  deposit() {\n    const acno = this.depositForm.value.acno;\n    const pswd = this.depositForm.value.pswd;\n    const dAmt = this.depositForm.value.dAmt;\n    const result = this.ds.deposit(acno, pswd, dAmt);\n    if (this.depositForm.valid) {\n      if (result) {\n        alert(`${dAmt} is credited to account ${acno} balance is ${result}`);\n      } else {\n        alert('deposit failed');\n      }\n    }\n  }\n  withdraw() {\n    const acno1 = this.withdrawForm.value.acno1;\n    const pswd1 = this.withdrawForm.value.pswd1;\n    const wAmt = this.withdrawForm.value.wAmt;\n    const result = this.ds.withdraw(acno1, pswd1, wAmt);\n    if (this.withdrawForm.valid) {\n      if (result) {\n        alert(`${wAmt} is debited to account ${acno1} balance is ${result}`);\n      } else {\n        alert('withdraw failed');\n      }\n    }\n  }\n  logout() {\n    localStorage.removeItem('currentAcno');\n    localStorage.removeItem('currentUser');\n    this.router.navigateByUrl('');\n  }\n  delete() {\n    this.acno = JSON.parse(localStorage.getItem('currentAcno') || '');\n  }\n  onCancel() {\n    this.acno = \"\";\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"mappings":"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","names":["Component","Validators","DashboardComponent","constructor","ds","fb","router","http","group","acno","required","pattern","pswd","dAmt","acno1","pswd1","wAmt","sDate","Date","ngOnInit","user","JSON","parse","localStorage","getItem","deposit","depositForm","value","result","valid","alert","withdraw","withdrawForm","logout","removeItem","navigateByUrl","delete","onCancel","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/media/sahil/Partition_1/backup/BANK/Bank-angular/src/app/dashboard/dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { DataService } from '../services/data.service';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit{\r\n\r\n  acno: any;\r\n  pswd: any;\r\n  dAmt: any;\r\n  acno1: any;\r\n  pswd1: any;\r\n  wAmt: any;\r\n  user: any; // To hold current username\r\n  sDate:any;\r\n  constructor(private ds: DataService, private fb: FormBuilder,private router:Router, private http:Http) {\r\n    this.sDate = Date();\r\n  }\r\n  ngOnInit(): void {\r\n    this.user = JSON.parse(localStorage.getItem('currentUser') || \"\")\r\n  }\r\n  depositForm = this.fb.group({\r\n    acno: ['', [Validators.required, Validators.pattern('[0-9]*')]],\r\n    pswd: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9]*')]],\r\n    dAmt: ['', [Validators.required, Validators.pattern('[0-9]*')]]\r\n  })\r\n  deposit() {\r\n    const acno = this.depositForm.value.acno;\r\n    const pswd = this.depositForm.value.pswd;\r\n    const dAmt = this.depositForm.value.dAmt;\r\n\r\n    const result = this.ds.deposit(acno, pswd, dAmt);\r\n    if (this.depositForm.valid) {\r\n      if (result) {\r\n        alert(`${dAmt} is credited to account ${acno} balance is ${result}`);\r\n      } else {\r\n        alert('deposit failed');\r\n      }\r\n    }\r\n  }\r\n\r\n  withdrawForm = this.fb.group({\r\n    acno1: ['', [Validators.required, Validators.pattern('[0-9]*')]],\r\n    pswd1: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9]*')]],\r\n    wAmt: ['', [Validators.required, Validators.pattern('[0-9]*')]]\r\n  })\r\n  withdraw() {\r\n    const acno1 = this.withdrawForm.value.acno1;\r\n    const pswd1 = this.withdrawForm.value.pswd1;\r\n    const wAmt = this.withdrawForm.value.wAmt;\r\n\r\n    const result = this.ds.withdraw(acno1, pswd1, wAmt);\r\n    if (this.withdrawForm.valid) {\r\n      if (result) {\r\n        alert(`${wAmt} is debited to account ${acno1} balance is ${result}`)\r\n      } else {\r\n        alert('withdraw failed');\r\n      }\r\n    }\r\n  }\r\n  logout(){\r\n    localStorage.removeItem('currentAcno');\r\n    localStorage.removeItem('currentUser');\r\n    this.router.navigateByUrl('');\r\n  }\r\n\r\n  delete(){\r\n    this.acno = JSON.parse(localStorage.getItem('currentAcno') || '');\r\n  }\r\n\r\n  onCancel(){\r\n    this.acno = \"\";\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}