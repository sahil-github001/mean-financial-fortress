{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\n// Global http header object \nconst options = {\n  headers: new HttpHeaders()\n};\nexport class DataService {\n  constructor(http) {\n    this.http = http;\n    this.userDetails = {\n      1000: {\n        acno: 1000,\n        username: 'Amal',\n        password: 1000,\n        balance: 2000,\n        transaction: []\n      },\n      1001: {\n        acno: 1001,\n        username: 'Arun',\n        password: 1001,\n        balance: 2000,\n        transaction: []\n      },\n      1002: {\n        acno: 1002,\n        username: 'Akshay',\n        password: 1002,\n        balance: 2000,\n        transaction: []\n      }\n    };\n  }\n  saveDetails() {\n    if (this.userDetails) {\n      localStorage.setItem('Database', JSON.stringify(this.userDetails));\n      localStorage.setItem('currentUser', JSON.stringify(this.currentUser));\n      localStorage.setItem('currentAcno', JSON.stringify(this.currentAcno));\n    }\n  }\n  register(acno, uname, pswd) {\n    const password = pswd;\n    const username = uname;\n    const body = {\n      acno,\n      username,\n      password\n    };\n    return this.http.post('http://localhost:3000/register', body);\n  }\n  login(acno, pswd) {\n    const password = pswd;\n    const body = {\n      acno,\n      password\n    };\n    return this.http.post('http://localhost:3000/login', body);\n  }\n  getToken() {\n    // fetch the token from local storage\n    const token = JSON.parse(localStorage.getItem('Token') || '');\n    // generate header\n    let header = new HttpHeaders();\n    //append token inside header\n    if (token) {\n      options.headers = header.append('x-access-token', token);\n    }\n    return options;\n  }\n  deposit(acno, pswd, dAmt) {\n    const body = {\n      acno: acno,\n      password: pswd,\n      dAmt: dAmt\n    };\n    return this.http.post('http://localhost:3000/deposit', body, this.getToken());\n  }\n  withdraw(acno1, pswd1, wAmt) {\n    const body = {\n      acno: acno1,\n      password: pswd1,\n      wAmt: wAmt\n    };\n    return this.http.post('http://localhost:3000/withdraw', body, this.getToken());\n  }\n  getTransaction(acno) {\n    const body = {\n      acno\n    };\n    return this.http.post('http://localhost:3000/transaction', body, this.getToken());\n  }\n  deleteAcc(acno) {\n    return this.http.delete('http://localhost:3000/deleteAcc/' + acno);\n  }\n}\nDataService.ɵfac = function DataService_Factory(t) {\n  return new (t || DataService)(i0.ɵɵinject(i1.HttpClient));\n};\nDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataService,\n  factory: DataService.ɵfac,\n  providedIn: 'root'\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}