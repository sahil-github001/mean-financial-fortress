{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/data.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../delete/delete.component\";\nfunction DashboardComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"invalid account number\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"invalid password \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"invalid amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"invalid account number\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"invalid password\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"invalid Amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DashboardComponent {\n  constructor(ds, fb, router) {\n    this.ds = ds;\n    this.fb = fb;\n    this.router = router;\n    this.depositForm = this.fb.group({\n      acno: ['', [Validators.required, Validators.pattern('[0-9]*')]],\n      pswd: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9]*')]],\n      dAmt: ['', [Validators.required, Validators.pattern('[0-9]*')]]\n    });\n    this.withdrawForm = this.fb.group({\n      acno1: ['', [Validators.required, Validators.pattern('[0-9]*')]],\n      pswd1: ['', [Validators.required, Validators.pattern('[a-zA-Z0-9]*')]],\n      wAmt: ['', [Validators.required, Validators.pattern('[0-9]*')]]\n    });\n    if (localStorage.getItem('currentUser')) {\n      this.sDate = Date();\n      this.user = JSON.parse(localStorage.getItem('currentUser') || \"\");\n    }\n  }\n  ngOnInit() {\n    if (!localStorage.getItem('currentAcno')) {\n      /////////\n      alert('please login first'); ////////\n      this.router.navigateByUrl(''); ///////\n    }\n  }\n\n  deposit() {\n    const acno = this.depositForm.value.acno;\n    const pswd = this.depositForm.value.pswd;\n    const dAmt = this.depositForm.value.dAmt;\n    const currentAcno = JSON.parse(localStorage.getItem('currentAcno') || \"\");\n    if (this.depositForm.valid) {\n      if (currentAcno == acno) {\n        this.ds.deposit(acno, pswd, dAmt).subscribe(result => {\n          alert(result.message);\n        }, result => {\n          alert(result.error.message);\n        });\n      } else {\n        alert('invalid user details');\n      }\n    }\n  }\n  withdraw() {\n    const acno1 = this.withdrawForm.value.acno1;\n    const pswd1 = this.withdrawForm.value.pswd1;\n    const wAmt = this.withdrawForm.value.wAmt;\n    const currentAcno = JSON.parse(localStorage.getItem('currentAcno') || \"\");\n    if (this.withdrawForm.valid) {\n      if (acno1 == currentAcno) {\n        const result = this.ds.withdraw(acno1, pswd1, wAmt).subscribe(result => {\n          alert(result.message);\n        }, result => {\n          alert(result.error.message);\n        });\n      } else {\n        alert('invalid user details');\n      }\n    }\n  }\n  logout() {\n    localStorage.removeItem('currentAcno');\n    localStorage.removeItem('currentUser');\n    this.router.navigateByUrl('');\n  }\n  delete() {\n    this.acno = JSON.parse(localStorage.getItem('currentAcno') || '');\n  }\n  onCancel() {\n    this.acno = \"\";\n  }\n  onDelete(acno) {\n    this.ds.deleteAcc(acno).subscribe(result => {\n      alert(result.message);\n      localStorage.removeItem('currentAcno');\n      localStorage.removeItem('currentUser');\n      this.router.navigateByUrl('');\n    }, result => {\n      alert(result.error.message);\n    });\n  }\n}\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Router));\n};\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 42,\n  vars: 14,\n  consts: [[1, \"container\"], [1, \"header\"], [1, \"header-user\"], [1, \"date\", 2, \"color\", \"white\", \"width\", \"30%\"], [\"routerLink\", \"/trasaction\", 1, \"transaction\"], [1, \"header-btn\"], [\"type\", \"button\", \"value\", \"Delete\", 1, \"delete-btn\", 3, \"click\"], [\"type\", \"button\", \"value\", \"Logout\", 1, \"logout-btn\", 3, \"click\"], [3, \"item\", \"Oncancel\", \"OnDelete\"], [1, \"container-2\", 3, \"ngClass\"], [1, \"deposit\"], [1, \"dp-wt-body\"], [3, \"formGroup\"], [\"type\", \"text\", \"formControlName\", \"acno\", \"name\", \"accountNumber\", \"id\", \"dpAcno\", \"placeholder\", \"Account number\"], [\"style\", \"color: #ff4343;\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"pswd\", \"name\", \"password\", \"id\", \"dpPswd\", \"placeholder\", \"Password\"], [\"type\", \"text\", \"formControlName\", \"dAmt\", \"name\", \"depositAmount\", \"id\", \"dpAmount\", \"placeholder\", \"Amount\"], [\"type\", \"button\", 3, \"click\"], [1, \"withdraw\"], [\"type\", \"text\", \"formControlName\", \"acno1\", \"name\", \"accountNumber\", \"id\", \"wtAcno\", \"placeholder\", \"Account number\"], [\"type\", \"text\", \"formControlName\", \"pswd1\", \"name\", \"password\", \"id\", \"wtPswd\", \"placeholder\", \"Password\"], [\"type\", \"text\", \"formControlName\", \"wAmt\", \"name\", \"withdrawAmount\", \"id\", \"wtAmount\", \"placeholder\", \"Amount\"], [2, \"color\", \"#ff4343\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"p\", 3);\n      i0.ɵɵtext(6);\n      i0.ɵɵpipe(7, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\")(9, \"a\", 4);\n      i0.ɵɵtext(10, \"view trasactions\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 5)(12, \"input\", 6);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_input_click_12_listener() {\n        return ctx.delete();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 7);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_input_click_13_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"app-delete\", 8);\n      i0.ɵɵlistener(\"Oncancel\", function DashboardComponent_Template_app_delete_Oncancel_14_listener() {\n        return ctx.onCancel();\n      })(\"OnDelete\", function DashboardComponent_Template_app_delete_OnDelete_14_listener($event) {\n        return ctx.onDelete($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 9)(16, \"div\", 10)(17, \"div\", 11)(18, \"h2\");\n      i0.ɵɵtext(19, \"Deposit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"form\", 12);\n      i0.ɵɵelement(21, \"input\", 13);\n      i0.ɵɵtemplate(22, DashboardComponent_div_22_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelement(23, \"input\", 15);\n      i0.ɵɵtemplate(24, DashboardComponent_div_24_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelement(25, \"input\", 16);\n      i0.ɵɵtemplate(26, DashboardComponent_div_26_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementStart(27, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_27_listener() {\n        return ctx.deposit();\n      });\n      i0.ɵɵtext(28, \"Deposit\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(29, \"div\", 18)(30, \"div\", 11)(31, \"h2\");\n      i0.ɵɵtext(32, \"Withdraw\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"form\", 12);\n      i0.ɵɵelement(34, \"input\", 19);\n      i0.ɵɵtemplate(35, DashboardComponent_div_35_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelement(36, \"input\", 20);\n      i0.ɵɵtemplate(37, DashboardComponent_div_37_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelement(38, \"input\", 21);\n      i0.ɵɵtemplate(39, DashboardComponent_div_39_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementStart(40, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_40_listener() {\n        return ctx.withdraw();\n      });\n      i0.ɵɵtext(41, \"withdraw\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      let tmp_5_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_9_0;\n      let tmp_10_0;\n      let tmp_11_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Welcome \", ctx.user, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 12, ctx.sDate));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"item\", ctx.acno);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", ctx.acno ? \"style1\" : \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.depositForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.depositForm.get(\"acno\")) == null ? null : tmp_5_0.errors) && ((tmp_5_0 = ctx.depositForm.get(\"acno\")) == null ? null : tmp_5_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.depositForm.get(\"pswd\")) == null ? null : tmp_6_0.errors) && ((tmp_6_0 = ctx.depositForm.get(\"pswd\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.depositForm.get(\"dAmt\")) == null ? null : tmp_7_0.errors) && ((tmp_7_0 = ctx.depositForm.get(\"dAmt\")) == null ? null : tmp_7_0.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.withdrawForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.withdrawForm.get(\"acno1\")) == null ? null : tmp_9_0.errors) && ((tmp_9_0 = ctx.withdrawForm.get(\"acno1\")) == null ? null : tmp_9_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.withdrawForm.get(\"pswd1\")) == null ? null : tmp_10_0.errors) && ((tmp_10_0 = ctx.withdrawForm.get(\"pswd1\")) == null ? null : tmp_10_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.withdrawForm.get(\"wAmt\")) == null ? null : tmp_11_0.errors) && ((tmp_11_0 = ctx.withdrawForm.get(\"wAmt\")) == null ? null : tmp_11_0.touched));\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgIf, i3.RouterLink, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i5.DeleteComponent, i4.DatePipe],\n  styles: [\".container[_ngcontent-%COMP%]{width:100vw;height:100vh}.header[_ngcontent-%COMP%]{width:100%;height:10%;background-color:#2b3467;display:flex}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:50%;color:#fff}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#fff;text-align:center;margin-top:10px}.delete-btn[_ngcontent-%COMP%]{padding:4px;margin:10px;background-color:#ec3737;border:1px solid white;color:#fff;border-radius:5px}.delete-btn[_ngcontent-%COMP%]:hover{background-color:red}.logout-btn[_ngcontent-%COMP%]{padding:4px;margin:10px 30px 10px 10px;background-color:gray;border:1px solid white;color:#fff;border-radius:5px}.style1[_ngcontent-%COMP%]{opacity:0}.container-2[_ngcontent-%COMP%]{width:100%;height:90%;display:flex}.deposit[_ngcontent-%COMP%], .withdraw[_ngcontent-%COMP%]{flex:50%;display:flex;justify-content:center;align-items:center}.dp-wt-body[_ngcontent-%COMP%]{width:55%;height:auto;background-color:#2b3467;border-radius:5px;padding:45px 40px;box-shadow:#00000059 0 5px 15px}.dp-wt-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin:20px 0}.dp-wt-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;padding:10px;display:block;margin:20px auto;border-radius:5px;border:none;outline:none}.dp-wt-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#2b3467;font-weight:700;padding:5px 10px;display:block;margin:auto;border-radius:5px;border:none;transition:.5s}.dp-wt-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7272d8;color:#fff}@media (max-width:1000px){.container-2[_ngcontent-%COMP%]{flex-direction:column}.dp-wt-body[_ngcontent-%COMP%]{width:40%;margin:30px 0}}@media (max-width:700px){.header[_ngcontent-%COMP%]{height:auto;flex-direction:column}.header-user[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;width:-moz-fit-content;width:fit-content}.date[_ngcontent-%COMP%]{text-align:center}.dp-wt-body[_ngcontent-%COMP%]{width:60%}.header-btn[_ngcontent-%COMP%]{display:flex;justify-content:end}}@media (max-width:450px){.dp-wt-body[_ngcontent-%COMP%]{width:80%}.dp-wt-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}